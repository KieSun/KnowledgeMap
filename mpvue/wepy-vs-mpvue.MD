# WePY 和 mpvue

## 体积

相比使用小程序框架开发，WePY 和 mpvue 两种方案都需要加载自己的依赖代码，所以导致最终打包的 dist 目录文件中会包含依赖文件。

因为每个项目使用的方案不同，所以不能定量的去比较这两个框架体积的大小，但是，引入这些框架的确是会增加小程序代码体积的。

## 能力
### 数据流管理
相比传统的小程序框架，这个一直是我们作为资深开发者比较期望去解决的，在 web 开发中，随着 flux、redux、vuex 等多个数据流工具出现，我们也期望在业务复杂的小程序中使用。

* WePY 默认支持 Redux，在脚手架生成项目的时候可以内置

* mpvue 作为 vue 的移植版本，当然支持 vuex，同样在脚手架生成项目的时候可以内置

### 组件化
如果你和我们一样，经历了从无到有的小程序业务开发，建议阅读【小程序的组件化开发】章节，进行官方语法的组件库开发（从基础库 1.6.3 开始，官方提供了组件化解决方案）。

* WePY 类似 vue 实现了单文件组件，最大的差别是文件后缀 .wpy，只是写法上会有差异，具体可以查看【主流框架使用案例 1：WePY】章节，学习起来有一定成本，不过也会很快适应：

```
export default class Index extends wepy.page {}
```
    
* mpvue 作为 vue 的移植版本，支持单文件组件，template、script 和 style 都在一个 .vue 文件中，和 vue 的写法类似，所以对 vue 开发熟悉的同学会比较适应。

###工程化
我们在第一节中提到过：所有的小程序开发依赖官方提供的开发者工具。开发者工具简单直观，对调试小程序很有帮助，现在也支持腾讯云（目前我们还没有使用，但是对新的一些开发者还是有帮助的），可以申请测试报告查看小程序在真实的移动设备上运行性能和运行效果，但是它本身没有类似前端工程化中的概念和工具。

* WePY 内置了构建，通过 wepy init 命令初始化项目，大致流程如下：

```
wepy-cli 会判断模版是在远程仓库还是在本地，如果在本地则会立即跳到第 3 步，反之继续进行。
会从远程仓库下载模版，并保存到本地。
询问开发者 Project name 等问题，依据开发者的回答，创建项目。
```

* mpvue 沿用了 vue 中推崇的 webpack 作为构建工具，但同时提供了一些自己的插件以及配置文件的一些修改，比如：

```
不再需要 html-webpack-plugin
基于 webpack-dev-middleware 修改成 webpack-dev-middleware-hard-disk
最大的变化是基于 webpack-loader 修改成 mpvue-loader
但是配置方式还是类似，分环境配置文件，最终都会编译成小程序支持的目录结构和文件后缀。
```

## 综合比较
| 对比\框架 | 微信小程序 | mpvue | wepy |
| ------ | ------ | ------ | ------ |
| 语法规范 | 小程序开发规范 | vue.js | 类vue.js |
| 标签集合 | 小程序 | htm l + 小程序 | 小程序 |
| 样式规范 | wxss | sass,less,postcss | sass,less,styus |
| 组件化 | 无组件化机制 | vue规范 | 自定义组件规范 |
| 多段复用 | 不可复用 | 支持h5 | 支持h5 |
| 自动构建 | 无自动构建 | webpack | 框架内置 |
| 上手成本 | 全新学习 | vue 学习 | vue 和 wepy |
| 数据管理 | 不支持 | vuex | redux |
